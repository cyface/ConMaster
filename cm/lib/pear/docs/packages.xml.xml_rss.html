<HTML
><HEAD
><TITLE
>XML_RSS</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.73
"><LINK
REL="HOME"
TITLE="PEAR Manual"
HREF="index.html"><LINK
REL="UP"
TITLE="XML"
HREF="packages.xml.html"><LINK
REL="PREVIOUS"
TITLE="XML"
HREF="packages.xml.html"><LINK
REL="NEXT"
TITLE="XML_sql2xml"
HREF="packages.xml.xml_sql2xml.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=ISO-8859-1"></HEAD
><BODY
CLASS="refentry"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PEAR Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="packages.xml.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="packages.xml.xml_sql2xml.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="packages.XML.XML_RSS"
><B
CLASS="classname"
>XML_RSS</B
></A
></H1
><DIV
CLASS="refnamediv"
><A
NAME="AEN6718"
></A
><B
CLASS="classname"
>XML_RSS</B
>&nbsp;--&nbsp;
    Parsing RSS files with PHP.
   </DIV
><DIV
CLASS="refsynopsisdiv"
><A
NAME="AEN6722"
></A
><H2
>Synopsis</H2
><TABLE
WIDTH="100%"
CELLSPACING="0"
CELLPADDING="0"
BORDER="0"
BGCOLOR="#EEEEEE"
><TR
><TD
><PRE
CLASS="synopsis"
>require_once "XML/RSS.php";</PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN6724"
></A
><H2
>Introduction to RSS</H2
><P
>&#13;    Resource Description Framework (RDF) Site Summary (RSS) documents
    are XML documents, that provide a lightweight multipurpose
    extensible metadata description and syndication format. RSS files
    are often used to syndicate news or headlines from portal sites
    (e.g. Slashdot or freshmeat.net).
   </P
><P
>&#13;    For more information on RSS see the website of the RSS working
    group (<A
HREF="http://www.purl.org/rss/"
TARGET="_top"
>http://www.purl.org/rss/</A
>).
   </P
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="packages.XML.XML_RSS.example_rss"
></A
><P
><B
>Example 1. RSS file</B
></P
><TABLE
WIDTH="100%"
CELLSPACING="0"
CELLPADDING="0"
BORDER="0"
BGCOLOR="#EEEEEE"
><TR
><TD
><PRE
CLASS="xml"
>&#60;?xml version="1.0"?&#62;

&#60;rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns="http://my.netscape.com/rdf/simple/0.9/"&#62;

&#60;channel&#62;
 &#60;title&#62;FooBar Inc.&#60;/title&#62;
 &#60;link&#62;http://example.com/&#60;/link&#62;
 &#60;description&#62;abcd, xyz, 123&#60;/description&#62;
&#60;/channel&#62;

&#60;image&#62;
 &#60;title&#62;FooBar&#60;/title&#62;
 &#60;url&#62;http://example.com/images/rssicon.gif&#60;/url&#62;
 &#60;link&#62;http://example.com/&#60;/link&#62;
&#60;/image&#62;

&#60;item&#62;
 &#60;title&#62;Headline 1&#60;/title&#62;
 &#60;link&#62;http://example.com/news.php?h=1&#60;/link&#62;
&#60;/item&#62;

&#60;item&#62;
 &#60;title&#62;Headline 2&#60;/title&#62;
 &#60;link&#62;http://example.com/news.php?h=2&#60;/link&#62;
&#60;/item&#62;

&#60;textinput&#62;
 &#60;title&#62;Search FooBar Inc.&#60;/title&#62;
 &#60;description&#62;Search FooBar Inc. headlines&#60;/description&#62;
 &#60;name&#62;q&#60;/name&#62;
 &#60;link&#62;http://example.com/search.php&#60;/link&#62;
&#60;/textinput&#62;

&#60;/rdf:RDF&#62;</PRE
></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN6732"
></A
><H2
>Usage Example</H2
><P
>&#13;    The following script fetches the latest headlines from
    Slashdot.org via RSS.
   </P
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN6735"
></A
><P
><B
>Example 2. Fetching headlines from Slashdot</B
></P
><TABLE
WIDTH="100%"
CELLSPACING="0"
CELLPADDING="0"
BORDER="0"
BGCOLOR="#EEEEEE"
><TR
><TD
><PRE
CLASS="php"
>require_once "XML/RSS.php";

$rss =&#38; new XML_RSS("http://slashdot.org/slashdot.rdf");
$rss-&#62;parse();

echo "&#60;h1&#62;Headlines from &#60;a href=\"http://slashdot.org\"&#62;Slashdot&#60;/a&#62;&#60;/h1&#62;\n";
echo "&#60;ul&#62;\n";

foreach ($rss-&#62;getItems() as $item) {
    echo "&#60;li&#62;&#60;a href=\"" . $item['link'] . "\"&#62;" . $item['title'] . "&#60;/a&#62;&#60;/li&#62;\n";
}

echo "&#60;/ul&#62;\n";</PRE
></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN6738"
></A
><H2
>XML_RSS::XML_RSS</H2
><DIV
CLASS="funcsynopsis"
><A
NAME="AEN6740"
></A
><P
></P
><P
><CODE
><CODE
CLASS="FUNCDEF"
>void <B
CLASS="function"
>XML_RSS::XML_RSS</B
></CODE
> (mixed handle)</CODE
></P
><P
></P
></DIV
><P
>&#13;    This function is the constructor for the RSS parser. It takes
    on argument, <TT
CLASS="parameter"
><I
>$handle</I
></TT
>. This parameter
    defines the resource, where the RSS data is reachable. It can
    be either a string that represents an URL or a local filename
    or it can be a file handle to an already opened file.
   </P
></DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN6748"
></A
><H2
>XML_RSS::parse</H2
><DIV
CLASS="funcsynopsis"
><A
NAME="AEN6750"
></A
><P
></P
><P
><CODE
><CODE
CLASS="FUNCDEF"
>boolean <B
CLASS="function"
>XML_RSS::parse</B
></CODE
> ()</CODE
></P
><P
></P
></DIV
><P
>&#13;    This function has to be called in order to parse the content
    of the RSS file that has been loaded via <B
CLASS="function"
>XML_RSS:XML_RSS
    ()</B
>.
   </P
></DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN6757"
></A
><H2
>XML_RSS::getStructure</H2
><DIV
CLASS="funcsynopsis"
><A
NAME="AEN6759"
></A
><P
></P
><P
><CODE
><CODE
CLASS="FUNCDEF"
>array <B
CLASS="function"
>XML_RSS::getStructure</B
></CODE
> ()</CODE
></P
><P
></P
></DIV
><P
>&#13;    This function returns an array containing all elements of the
    RSS file in the same order, than they were ordered in the original
    file.
   </P
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN6765"
></A
><P
><B
>Example 3. Output of <B
CLASS="function"
>getStructure()</B
> with the
    <A
HREF="packages.xml.xml_rss.html#packages.XML.XML_RSS.example_rss"
>above</A
>
    example RSS file:</B
></P
><TABLE
WIDTH="100%"
CELLSPACING="0"
CELLPADDING="0"
BORDER="0"
BGCOLOR="#EEEEEE"
><TR
><TD
><PRE
CLASS="programlisting"
>Array
(
    [0] =&#62; Array
        (
            [type] =&#62; channel
            [title] =&#62; FooBar Inc.
            [link] =&#62; http://example.com/
            [description] =&#62; abcd, xyz, 123
        )

    [1] =&#62; Array
        (
            [type] =&#62; image
            [title] =&#62; FooBar
            [url] =&#62; http://example.com/images/rssicon.gif
            [link] =&#62; http://example.com/
        )

    [2] =&#62; Array
        (
            [type] =&#62; item
            [title] =&#62; Headline 1
            [link] =&#62; http://example.com/news.php?h=1
        )

    [3] =&#62; Array
        (
            [type] =&#62; item
            [title] =&#62; Headline 2
            [link] =&#62; http://example.com/news.php?h=2
        )

    [4] =&#62; Array
        (
            [type] =&#62; textinput
            [title] =&#62; Search FooBar Inc.
            [description] =&#62; Search FooBar Inc. headlines
            [name] =&#62; q
            [link] =&#62; http://example.com/search.php
        )

)</PRE
></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN6770"
></A
><H2
>XML_RSS::getChannelInfo</H2
><DIV
CLASS="funcsynopsis"
><A
NAME="AEN6772"
></A
><P
></P
><P
><CODE
><CODE
CLASS="FUNCDEF"
>array <B
CLASS="function"
>XML_RSS::getChannelInfo</B
></CODE
> ()</CODE
></P
><P
></P
></DIV
><P
>&#13;    This function returns an array containing the information
    that has been extracted from the &#60;channel&#62;-tag while parsing
    the RSS file.
   </P
></DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN6778"
></A
><H2
>XML_RSS::getItems</H2
><DIV
CLASS="funcsynopsis"
><A
NAME="AEN6780"
></A
><P
></P
><P
><CODE
><CODE
CLASS="FUNCDEF"
>array <B
CLASS="function"
>XML_RSS::getItems</B
></CODE
> ()</CODE
></P
><P
></P
></DIV
><P
>&#13;    This function returns an array containing the set of items
    that are provided by the RSS file.
   </P
></DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN6786"
></A
><H2
>XML_RSS::getImages</H2
><DIV
CLASS="funcsynopsis"
><A
NAME="AEN6788"
></A
><P
></P
><P
><CODE
><CODE
CLASS="FUNCDEF"
>array <B
CLASS="function"
>XML_RSS::getImages</B
></CODE
> ()</CODE
></P
><P
></P
></DIV
><P
>&#13;    This function returns an array containing the set of images
    that are provided by the RSS file.
   </P
></DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN6794"
></A
><H2
>XML_RSS::getTextinputs</H2
><DIV
CLASS="funcsynopsis"
><A
NAME="AEN6796"
></A
><P
></P
><P
><CODE
><CODE
CLASS="FUNCDEF"
>array <B
CLASS="function"
>XML_RSS::getTextinputs</B
></CODE
> ()</CODE
></P
><P
></P
></DIV
><P
>&#13;    This function returns an array containing the set of text input
    fields that are provided by the RSS file.
   </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="packages.xml.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="packages.xml.xml_sql2xml.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>XML</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="packages.xml.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><B
CLASS="classname"
>XML_sql2xml</B
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>